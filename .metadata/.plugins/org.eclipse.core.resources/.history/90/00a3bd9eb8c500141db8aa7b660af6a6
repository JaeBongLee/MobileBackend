package server;

import java.io.File;

import org.simpleframework.xml.Serializer;
import org.simpleframework.xml.core.Persister;

public class ServerInitializer {

	public static void main(String[] args) {
		int port = 5000;
		System.out.println("Server On:" + port);
		
		Reactor reactor = new Reactor(port);
		
		try {
			Serializer serializer = new Persister();
			File source = new File("HandlerList.xml");
			
			ServerListData serverList = serializer.read(ServerListData.class,source);
			
			for(HandlerListData handlerListData : serverList.getServer()){
				
			}
			
		} catch (Exception e) {
			e.printStackTrace();
		}
		
		reactor.registerHandler(new StreamSayHelloEvnetHandler());
		reactor.registerHandler(new StreamUpdateProfileEventHandler());
		
		reactor.startServer();

	}

}
